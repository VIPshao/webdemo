<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http#{//mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="calendarDao">

	<insert id="">
		INSERT INTO t_calendar_event
			(
			  id,
			  title,
			  description,
			  allday,
			  startDate,
			  endDate,
			  createOper,
			  createDate,
			  eventType,
			  days,
			  updateOper,
			  updateDate) 
			VALUE (
			  #{id},
			  #{title},
			  #{description},
			  #{allday},
			  #{startDate},
			  #{endDate},
			  #{createOper},
			  #{createDate},
			  #{eventType},
			  #{days},
			  #{updateOper},
			  #{updateDate);
	</insert>

	<select id="queryCalendarEventList" parameterType="java.uti.Map"
		resultType="calendarEvent">
	<![CDATA[
		 SELECT id,
				title,
				description,
				allday,
				startDate,
				endDate,
				createOper,
				createDate,
				eventType,
				days,
				updateOper,
				updateDate
		   FROM t_calendar_event
		  where createoper = #{operid}
       		and eventtype = 0
       		and ((startdate >= #{startdate} and startdate <= #{enddate})
       			or (enddate >= #{startdate} and enddate <= #{enddate})
       			or (startdate <= #{startdate} and enddate >= #{enddate}))
	]]>
	</select>
	
</mapper>  